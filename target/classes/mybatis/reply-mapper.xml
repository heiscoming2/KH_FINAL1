<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
  

<mapper namespace="reply">

	<select id="selectList" parameterType="int" resultType="ReplyListDto">
		SELECT * FROM REPLY WHERE BD_NO = #{bd_no}
	</select>
	
	<select id="replyCnt" parameterType="int" resultType="int">
		SELECT COUNT(RE_NO) FROM REPLY WHERE BD_NO=#{bd_no}
	</select>
	
	<!-- 나중에 1000 저거 session에 있는 회원값으로 수정될수있게 처리 m_no -->
	<insert id="insert" parameterType="ReplyInsertDto">
		INSERT INTO REPLY VALUES (REPLYSEQ.NEXTVAL,SYSDATE,NULL,#{re_content},#{re_writerip},1000,#{bd_no})
	</insert>
	
	<update id="update" parameterType="ReplyUpdateDto">
		UPDATE REPLY SET RE_CONTENT = #{re_content}, RE_MODIFYDATE = SYSDATE WHERE RE_NO = #{re_no}
	</update>
	
	<delete id="delete" parameterType="int">
		DELETE FROM REPLY WHERE RE_NO = #{re_no}
	</delete>

</mapper>